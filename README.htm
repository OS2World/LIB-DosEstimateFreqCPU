<!doctype html public "-//W3C//DTD HTML 3.2//EN">

<html>

 <head>
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
  <meta name="language" content="en">
  <meta name="author" content="Takayuki 'January June' Suwa / Beliefia Productions">
  <meta name="date" content="2001-10-31T05:57:13+09:00">
  <link rev="made" href="mailto:jjsuwa@sys3175.com">
  <title>DosEstimateFreqCPU() dynalink library Reference</title>
 </head>

 <body>

  <h1>DosEstimateFreqCPU() dynalink library, public release 1.1.1</h1>
  <strong>Copyright 2001 Takayuki 'January June' Suwa / Beliefia Productions.</strong><br>
  <hr>

  <hr>

  <h1>0. <a name="0">Table of Contents</a></h1>
  <ul>
   <li>0. <a href="#0">Table of Contents</a></li>
   <li>1. <a href="#1">Welcome</a>
       <ul>
        <li>1.1. <a href="#1.1">Copyright and Disclaimer</a></li>
        <li>1.2. <a href="#1.2">System Requirements</a></li>
        <li>1.3. <a href="#1.3">Contact Author</a></li>
        <li>1.4. <a href="#1.4">Revision History</a></li>
       </ul></li>
   <li>2. <a href="#2">Reference</a>
       <ul>
        <li>2.1. <a href="#2.1"><tt>DosEstimateFreqCPU()</tt></a></li>
       </ul></li>
  </ul>
  <hr>

  <hr>

  <h1>1. <a name="1">Welcome</a></h1>
  This software is a dynalink library that estimates clock frequency of all available CPUs on 32bit OS/2 environment.<br>
  <br>
  It can be used any 32bit development suites that can issue OS/2 APIs such as emx/gcc, VisualAge C/C++ or Watcom C/C++.<br>
  Free to use, under the GNU LGPL.
  <hr>

  <h2>1.1. <a name="1.1">Copyright and Disclaimer</a></h2>
  <ol>
   <li>'THIS SOFTWARE AND WHOLE SET OF DOCUMENTS' (CALLED 'THE PACKAGE') ARE ENTIRELY COPYRIGHTED BY TAKAYUKI 'JANUARY JUNE' SUWA / BELIEFIA PRODUCTIONS, AUTHOR / HOLDER OF THE PRODUCT.</li>
   <li>THIS PACKAGE IS DISTRIBUTED UNDER THE &quot;GNU LESSER PUBLIC LICENSE&quot; (LGPL). IT CLAIMS:
       <ul>
        <li>YOU CAN USE OR INCLUDE A COMPILED VERSION OF THIS SOFTWARE (FREQCPU.DLL) WITH OTHER SOFTWARES.</LI>
        <li>YOU CANNOT INCLUDE ANY SOURCE CODE FROM THIS SOFTWARE, WITH THE EXCEPTION OF FILES WHOSE ONLY PURPOSE IS TO DESCRIBE THE LIBRARY INTERFACE (SUCH AS FREQCPU.H).</li>
        <li>ANY MODIFICATIONS OF THIS SOFTWARE MUST BE RELEASED UNDER THE LGPL.</li>
        <li>YOU MUST GIVE PROMINENT NOTICE THAT YOUR PROGRAM IS:
            <ol>
             <li>USING THIS SOFTWARE (INCLUDING VERSION / REVISION NUMBER).</li>
             <li>THIS SOFTWARE IS UNDER THE LGPL.</li>
             <li>PROVIDE A COPY OF THE LGPL. (THE FILE COPYING CONTAINS THE LGPL)</li>
             <li>PRIVIDE A COPY OF SOURCE OF THIS SOFTWARE, OR POINTER WHERE THE SOURCE CAN BE OBTAINED (SUCH AS ANONYMOUS FTP ARCHIVE URI).</li>
            </ol></li>
       </ul>
       SEE &quot;COPYING&quot; FOR DETAIL.</li>
   <li>THE PACKAGE IS PROVIDED 'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</li>
   <li>IN NO EVENT SHALL THE COPYRIGHT HOLDER BE LIABLE FOR ANY DAMAGES, WHETHER IN CONTRACT OR TORT (INCLUDED NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THE PRODUCT, EVEN THOUGH SUCH HOLDER HAS BEEN ADVISED OF THE POSSIBILITY OF ANY DAMAGE.</li>
  </ol>
  <hr>

  <h2>1.2. <a name="1.2">System Requirements</a></h2>
  This program will be functioned in environment such as:<br>
  <ul>
   <li>OS/2 version 3 or later (Warp v3 / WarpServer v4 / Warp v4 / WSeB / MCP / ACP / eCS, uniprocessor or multiprocessor)</li>
   <li><tt>RDTSC</tt>-capable CPUs such as Pentium, P6 family, or other compatibles</li>
  </ul>
  <hr>

  <h2>1.3. <a name="1.3">Contact Author</a></h2>
  Email to Takayuki 'January June' Suwa:
  <ul>
   <li><a href="mailto:jjsuwa@sys3175.com">mailto:jjsuwa@sys3175.com</a></li>
  </ul>
  <hr>

  <h2>1.4. <a name="1.4">Revision History</a></h2>
  <ul>
   <li><strong>public release 1.0.0 (build 1)</strong> - April 10th,2001
       <ol>
        <li>First public release. Distributed under the LGPL.</li>
       </ol></li>
   <li><strong>public release 1.0.1 (build 2)</strong> - May 5th,2001
       <ol>
        <li>Replaced <tt>Dos32LoadModule()</tt> with <tt>Dos32QueryModuleHandle()</tt>.</li>
       </ol></li>
   <li><strong>public release 1.1.0 (build 3)</strong> - May 25th,2001
       <ol>
        <li>Redesigned wholly.</li>
       </ol></li>
   <li><strong>public release 1.1.1 (build 4)</strong> - October 31st,2001
       <ol>
        <li>Fixed incorrect TIB reference (causes SYS3175).</li>
       </ol></li>
  </ul>
  <hr>

  <hr>

  <h1>2. <a name="2">Reference</a></h1>
  <hr>

  <h2>2.1. <a name="2.1"><tt>DosEstimateFreqCPU()</tt></a></h2>
  <table><tbody>
   <tr>
    <td valign="top"><strong>Syntax</strong></td>
    <td>Estimates clock frequency of all available CPUs.
        <table border="1"><tbody><tr><td>
<pre>#define INCL_BASE
#include &lt;os2.h&gt;
#include &quot;FREQCPU.h&quot;
&nbsp;
APIRET ulrc = DosEstimateFreqCPU(PCPUFREQUENCY pxCPUFrequency);</pre>
        </td></tr></tbody></table></td>
   </tr>
   <tr>
    <td valign="top"><strong>Parameters</strong></td>
    <td><dl>
         <dt><tt>pxCPUFrequency</tt> <tt>(PCPUFREQUENCY)</tt> - output</dt>
          <dd>Pointer to structure that estimated clock frequencies will be set to.</dd>
        </dl></td>
   </tr>
   <tr>
    <td valign="top"><strong>Returns</strong></td>
    <td><dl>
         <dt><tt>ulrc</tt> <tt>(APIRET)</tt> - return</dt>
          <dd>Return codes.
              <dl>
               <dt><tt>!NO_ERROR</tt></dt>
                <dd>Error.</dd>
               <dt><tt>NO_ERROR</tt></dt>
                <dd>Successful completion.</dd>
              </dl></dd>
        </dl></td>
   </tr>
   <tr>
    <td valign="top"><strong>Remarks</strong></td>
    <td><p>This function estimates clock frequency of all available CPUs. Obtained frequency will be set to <tt>CPUFREQUENCY</tt> structure:</p>
        <table border="1"><tbody><tr><td>
<pre>/* CPU frequency information structure */
typedef struct _CPUFREQUENCY
{
    ULONG ulNumCPUs;            /* # of available CPUs */
    FIXED afxFrequencyMHz[64];  /* frequency of each CPUs in FIXED MHz (65536 means 1.0) */
} CPUFREQUENCY, * PCPUFREQUENCY;</pre>
        </td></tr></tbody></table></td>
   </tr>
  </tbody></table>
  <hr>

  <hr>

  Copyright 2001 Takayuki 'January June' Suwa / Beliefia Productions. All rights reserved.<br>
  Beliefia Productions and its logo design are trademarks of Beliefia Productions. All rights reserved.<br>
  Other copyrighted works (images, musics, programs, and so on), trademarks and servicemarks in this document are owned by their respective owners.<br>
  <br>
  [This document is HTML3.2(Wilbur)-compliant.]

 </body>

</html>
